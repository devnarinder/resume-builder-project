{"ast":null,"code":"import React,{useEffect,useState}from'react';import api from'../utils/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminPanel=()=>{const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);// Fetch all users and resumes\nconst fetchUsers=async()=>{try{const{data}=await api.get('/admin/users');setUsers(data);setLoading(false);}catch(error){console.error('Error fetching users:',error);setLoading(false);}};useEffect(()=>{fetchUsers();},[]);// Approve/Reject Resume\nconst handleResumeAction=async(userId,action)=>{try{await api.post(`/admin/approve/${userId}`,{action});alert(`Resume ${action==='approve'?'approved':'rejected'} successfully!`);fetchUsers();// Refresh user list after action\n}catch(error){console.error('Error updating resume status:',error);}};// Set Default Theme for All Users\nconst setDefaultTheme=async theme=>{try{await api.post('/admin/theme',{theme});alert(`Default theme set to ${theme} successfully!`);}catch(error){console.error('Error setting default theme:',error);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading users...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Admin Panel - Manage Users & Resumes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2\",children:\"Set Default Theme:\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDefaultTheme('light'),className:\"bg-blue-500 text-white px-4 py-2 rounded mr-2\",children:\"Light Mode\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDefaultTheme('dark'),className:\"bg-gray-700 text-white px-4 py-2 rounded\",children:\"Dark Mode\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2\",children:\"User List:\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border p-2\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border p-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border p-2\",children:\"Resume\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border p-2\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:user.name}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:user.email}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:user.resume?/*#__PURE__*/_jsx(\"a\",{href:`/api/resume/view/${user.resume}`,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-500\",children:\"View Resume\"}):'No resume uploaded'}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:user.resume&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleResumeAction(user._id,'approve'),className:\"bg-green-500 text-white px-3 py-1 rounded mr-2\",children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleResumeAction(user._id,'reject'),className:\"bg-red-500 text-white px-3 py-1 rounded\",children:\"Reject\"})]})})]},user._id))})]})]})]});};export default AdminPanel;","map":{"version":3,"names":["React","useEffect","useState","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminPanel","users","setUsers","loading","setLoading","fetchUsers","data","get","error","console","handleResumeAction","userId","action","post","alert","setDefaultTheme","theme","children","className","onClick","map","user","name","email","resume","href","target","rel","_id"],"sources":["D:/Development Projects/resume-builder/client/src/pages/AdminPanel.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport api from '../utils/api';\r\n\r\nconst AdminPanel = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Fetch all users and resumes\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const { data } = await api.get('/admin/users');\r\n      setUsers(data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  // Approve/Reject Resume\r\n  const handleResumeAction = async (userId, action) => {\r\n    try {\r\n      await api.post(`/admin/approve/${userId}`, { action });\r\n      alert(`Resume ${action === 'approve' ? 'approved' : 'rejected'} successfully!`);\r\n      fetchUsers(); // Refresh user list after action\r\n    } catch (error) {\r\n      console.error('Error updating resume status:', error);\r\n    }\r\n  };\r\n\r\n  // Set Default Theme for All Users\r\n  const setDefaultTheme = async (theme) => {\r\n    try {\r\n      await api.post('/admin/theme', { theme });\r\n      alert(`Default theme set to ${theme} successfully!`);\r\n    } catch (error) {\r\n      console.error('Error setting default theme:', error);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading users...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white shadow-md rounded-lg p-6\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Admin Panel - Manage Users & Resumes</h2>\r\n\r\n      {/* Set Default Theme */}\r\n      <div className=\"mb-6\">\r\n        <h3 className=\"text-lg font-semibold mb-2\">Set Default Theme:</h3>\r\n        <button\r\n          onClick={() => setDefaultTheme('light')}\r\n          className=\"bg-blue-500 text-white px-4 py-2 rounded mr-2\"\r\n        >\r\n          Light Mode\r\n        </button>\r\n        <button\r\n          onClick={() => setDefaultTheme('dark')}\r\n          className=\"bg-gray-700 text-white px-4 py-2 rounded\"\r\n        >\r\n          Dark Mode\r\n        </button>\r\n      </div>\r\n\r\n      {/* User List & Resume Actions */}\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold mb-2\">User List:</h3>\r\n        <table className=\"w-full border-collapse border border-gray-300\">\r\n          <thead>\r\n            <tr className=\"bg-gray-100\">\r\n              <th className=\"border p-2\">Name</th>\r\n              <th className=\"border p-2\">Email</th>\r\n              <th className=\"border p-2\">Resume</th>\r\n              <th className=\"border p-2\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {users.map((user) => (\r\n              <tr key={user._id} className=\"text-center\">\r\n                <td className=\"border p-2\">{user.name}</td>\r\n                <td className=\"border p-2\">{user.email}</td>\r\n                <td className=\"border p-2\">\r\n                  {user.resume ? (\r\n                    <a\r\n                      href={`/api/resume/view/${user.resume}`}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"text-blue-500\"\r\n                    >\r\n                      View Resume\r\n                    </a>\r\n                  ) : (\r\n                    'No resume uploaded'\r\n                  )}\r\n                </td>\r\n                <td className=\"border p-2\">\r\n                  {user.resume && (\r\n                    <>\r\n                      <button\r\n                        onClick={() => handleResumeAction(user._id, 'approve')}\r\n                        className=\"bg-green-500 text-white px-3 py-1 rounded mr-2\"\r\n                      >\r\n                        Approve\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleResumeAction(user._id, 'reject')}\r\n                        className=\"bg-red-500 text-white px-3 py-1 rounded\"\r\n                      >\r\n                        Reject\r\n                      </button>\r\n                    </>\r\n                  )}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPanel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}