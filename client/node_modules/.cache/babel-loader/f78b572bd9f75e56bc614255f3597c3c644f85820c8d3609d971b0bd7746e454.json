{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const{user,setUser}=useAuth();const[theme,setTheme]=useState((user===null||user===void 0?void 0:user.theme)||'light');const[name,setName]=useState((user===null||user===void 0?void 0:user.name)||'');const[email,setEmail]=useState((user===null||user===void 0?void 0:user.email)||'');const[loading,setLoading]=useState(false);// Handle theme change\nconst handleThemeChange=async e=>{const selectedTheme=e.target.value;setTheme(selectedTheme);try{const{data}=await axios.post('/api/user/theme',{theme:selectedTheme},{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setUser({...user,theme:data.theme});alert('Theme updated successfully!');}catch(error){console.error('Error updating theme:',error);alert('Failed to update theme.');}};// Handle profile update\nconst handleProfileUpdate=async()=>{setLoading(true);try{const{data}=await axios.put('/api/user/update',{name,email},{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setUser({...user,name:data.name,email:data.email});alert('Profile updated successfully!');}catch(error){console.error('Error updating profile:',error);alert('Failed to update profile.');}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center min-h-screen bg-gray-100\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-blue-600 mb-6\",children:\"User Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-lg w-96\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),className:\"w-full p-2 border border-gray-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,disabled:true,className:\"w-full p-2 border border-gray-300 rounded-lg bg-gray-100 cursor-not-allowed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700\",children:\"Theme\"}),/*#__PURE__*/_jsxs(\"select\",{value:theme,onChange:handleThemeChange,className:\"w-full p-2 border border-gray-300 rounded-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"light\",children:\"Light Mode\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dark\",children:\"Dark Mode\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleProfileUpdate,disabled:loading,className:\"w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg\",children:loading?'Updating...':'Update Profile'})]})]});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","axios","useAuth","jsx","_jsx","jsxs","_jsxs","Profile","user","setUser","theme","setTheme","name","setName","email","setEmail","loading","setLoading","handleThemeChange","e","selectedTheme","target","value","data","post","headers","Authorization","localStorage","getItem","alert","error","console","handleProfileUpdate","put","className","children","type","onChange","disabled","onClick"],"sources":["D:/Development Projects/resume-builder/client/src/pages/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst Profile = () => {\r\n  const { user, setUser } = useAuth();\r\n  const [theme, setTheme] = useState(user?.theme || 'light');\r\n  const [name, setName] = useState(user?.name || '');\r\n  const [email, setEmail] = useState(user?.email || '');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Handle theme change\r\n  const handleThemeChange = async (e) => {\r\n    const selectedTheme = e.target.value;\r\n    setTheme(selectedTheme);\r\n\r\n    try {\r\n      const { data } = await axios.post(\r\n        '/api/user/theme',\r\n        { theme: selectedTheme },\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n        }\r\n      );\r\n      setUser({ ...user, theme: data.theme });\r\n      alert('Theme updated successfully!');\r\n    } catch (error) {\r\n      console.error('Error updating theme:', error);\r\n      alert('Failed to update theme.');\r\n    }\r\n  };\r\n\r\n  // Handle profile update\r\n  const handleProfileUpdate = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await axios.put(\r\n        '/api/user/update',\r\n        { name, email },\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\r\n        }\r\n      );\r\n      setUser({ ...user, name: data.name, email: data.email });\r\n      alert('Profile updated successfully!');\r\n    } catch (error) {\r\n      console.error('Error updating profile:', error);\r\n      alert('Failed to update profile.');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-100\">\r\n      <h1 className=\"text-3xl font-bold text-blue-600 mb-6\">User Profile</h1>\r\n\r\n      <div className=\"bg-white p-6 rounded-lg shadow-lg w-96\">\r\n        {/* Profile Info */}\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-semibold text-gray-700\">Name</label>\r\n          <input\r\n            type=\"text\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            className=\"w-full p-2 border border-gray-300 rounded-lg\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-semibold text-gray-700\">Email</label>\r\n          <input\r\n            type=\"email\"\r\n            value={email}\r\n            disabled\r\n            className=\"w-full p-2 border border-gray-300 rounded-lg bg-gray-100 cursor-not-allowed\"\r\n          />\r\n        </div>\r\n\r\n        {/* Theme Selection */}\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-semibold text-gray-700\">Theme</label>\r\n          <select\r\n            value={theme}\r\n            onChange={handleThemeChange}\r\n            className=\"w-full p-2 border border-gray-300 rounded-lg\"\r\n          >\r\n            <option value=\"light\">Light Mode</option>\r\n            <option value=\"dark\">Dark Mode</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* Update Button */}\r\n        <button\r\n          onClick={handleProfileUpdate}\r\n          disabled={loading}\r\n          className=\"w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg\"\r\n        >\r\n          {loading ? 'Updating...' : 'Update Profile'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}